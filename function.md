## 各功能模块

### 按键

- 初始化
- 扫描
    - 开启/结束采样(KEY1)
    - 修改采样周期(KEY2,3,4)

### LED

- 初始化
- 状态显示
    - 正在采样(LED1闪烁,1Hz)
    - 超限提示(LED2点亮)

### ADC

- 初始化
- 采样
    - 开启/结束
    - 是否达到设定周期
    - 是否超限
        - 修改状态

### RTC

- 初始化
- 获取时间(保存数据,串口输出,OLED显示)
- 设置时间(串口输入)

### OLED

- 初始化
- 显示
    - 忙碌(System Idle)
    - 采样(当前时间,采样值)

### 串口

- 初始化
- 输入输出
    - 输入指令
    - 输出数据
- 数据处理
    - 根据编码转换数据

### FLASH

- 初始化
- 读取id
- 存储/读取
    - 队伍信息
    - 配置(变比,阈值)
    - 上电计数器

### TF卡

- 初始化
- 存储/读取
    - 建立相应文件夹(sample,overLimit,log,hideData)
    - 采样数据
    - 操作日志

## 主函数

- 监听串口
- 扫描按键
- LED状态显示
- ADC采样
- OLED显示
- 写入日志

--- 

#### 指令表

|     指令      |       功能含义       |
|:-----------:|:----------------:|
|    test     |       系统自检       |
| RTC Config  |       设置时间       |
|   RTC now   |      显示当前时间      |
|    conf     |   读取TF卡中的配置文件    |
|    ratio    |     显示与设置变比值     |
|    limit    |     显示与设置阈值      |
| config save | 读取配置参数并存储在Flash中 |
| config read |   读取Flash中配置参数   |
|    start    |       启动采样       |
|    stop     |       停止采样       |
|    hide     |       开启加密       |
|   unhide    |       关闭加密       |
